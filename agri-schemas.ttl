@prefix : <http://agrischemas.org/> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix oa: <http://www.w3.org/ns/oa#> .
@prefix obo: <http://purl.obolibrary.org/obo/> .
@prefix owl: <https://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sio: <http://semanticscience.org/resource/> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ppeo: <http://purl.org/ppeo/PPEO.owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
# TODO: migrate to https
@prefix schema: <http://schema.org/> .
@prefix bioschema: <http://bioschemas.org/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix metaSchema: <https://meta.schema.org/> .
# TODO: recover control of the DNS and point it to a suitable place
@prefix agri: <http://agrischemas.org/> .
@base <http://agrischemas.org/> .

# TODO: conformsTo RDF-S?
<http://agrischemas.org/> rdf:type owl:Ontology ;
                           rdfs:label "AgriSchemas Ontology"@en .


## Properties

agri:authorsList a rdf:Property ;
                 rdfs:subPropertyOf dc:creator .


agri:baseCondition a rdf:Property ;
                   rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal.


agri:doiId a rdf:Property ;
           rdfs:subPropertyOf agri:SchemaNewPropertyProposal ,
                              schema:identifier .

agri:evidence a rdf:Property ;
              rdfs:subPropertyOf agri:SchemaNewPropertyProposal ,
                                 oa:motivatedBy .

agri:foldChange a rdf:Property ;
                rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                                   agri:score .

agri:hasExperimentalFactorType a rdf:Property ;
                               rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                                                  dc:type .


agri:hasExperimentalFactorValue a rdf:Property ;
                                rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal .


agri:hasGeneExpressionIn a rdf:Property ;
                         rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                                            agri:isBiologicallyRelatedTo .


agri:hasObservedValue a rdf:Property ;
  rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ;
  schema:inverseOf agri:hasObservedVariable ;
  schema:rangeIncludes agri:StudyObservedValue ;
  schema:domainIncludes agri:StudyObservedVariable .

agri:hasObservedVariable a rdf:Property ;
  schema:inverseOf agri:hasObservedValue ;
  rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                    dc:type ;
  schema:rangeIncludes agri:StudyObservedVariable ;
  schema:domainIncludes agri:StudyObservedValue .


  agri:isBiologicallyRelatedTo a rdf:Property ;
                             rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal.


agri:log2FoldChange a rdf:Property ;
                    rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                                       agri:foldChange .


agri:ordinalTpm a rdf:Property ;
                rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                                   agri:score .


agri:pmedId a rdf:Property ;
            rdfs:subPropertyOf agri:SchemaNewPropertyProposal ,
                               schema:identifier .


agri:pvalue a rdf:Property ;
            rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                               agri:score .


agri:score a rdf:Property ;
           rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal.


agri:timePoint a rdf:Property ;
               rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal.


agri:tpmCount a rdf:Property ;
              rdfs:subPropertyOf agri:BioSchemasNewPropertyProposal ,
                                 agri:score .



## External mappings

schema:alternateName rdfs:subPropertyOf skos:altLabel .

schema:name rdfs:subPropertyOf skos:prefLabel .


## Classes

agri:BioSchemasNewClassProposal rdf:type owl:Class .


agri:BioPathway a rdfs:Class ;
  rdfs:subClassOf agri:BioSchemasNewClassProposal ,
  schema:Action,
  <http://purl.obolibrary.org/obo/GO_0008150>, # BioProc
  <http://semanticscience.org/resource/SIO_001107> # Biological pathway
.


agri:ExperimentalDesign a rdfs:Class ;
                        rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                        obo:OBI_0500000 ,
                                        ppeo:experimental_design ,
                                        schema:PropertyValue ,
                                        <http://www.ebi.ac.uk/efo/EFO_0001426> .


agri:ExperimentalFactorType a rdfs:Class ;
                            rdfs:subClassOf agri:BioSchemasNewClassProposal,
                            ppeo:factor .


agri:ExperimentalFactorValue a rdfs:Class ;
                             rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                             obo:OBI_0000750 ,
                                             schema:PropertyValue ,
                                             # experimental factor
                                             <http://www.ebi.ac.uk/efo/EFO_0000001>,
                                             ppeo:factor_value .


agri:FIeldTrialBioMaterial a rdfs:Class ;
                           rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                           schema:BioChemEntity,
                                           ppeo:biological_material .


agri:FieldTrialMaterialSource a rdfs:Class ;
                              rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                              schema:BioChemEntity,
                                              ppeo:material_source .


agri:FieldTrialObservationUnit a rdfs:Class ;
                               rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                               schema:BioChemEntity,
                                               ppeo:observation_unit .


agri:HostPathogenInteraction a rdfs:Class ;
  rdfs:subClassOf 
    agri:BioSchemasNewClassProposal,
    schema:Action, 
    # host-pathogen interaction
    <http://purl.obolibrary.org/obo/OHPI_0000001>,
    # biological process involved in symbiotic interaction
    <http://purl.obolibrary.org/obo/GO_0044403>
.


agri:LabProtocolParameterType a rdfs:Class ;
                              rdfs:subClassOf agri:BioSchemasNewClassProposal .


agri:LabProtocolParameterValue a rdfs:Class ;
                               rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                               schema:PropertyValue .


agri:ScholarlyPublication a rdfs:Class ;
                          rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                          schema:CreativeWork .


agri:StudyEvent a rdfs:Class ;
                rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                schema:Action;
  rdfs:comment """An event that might happen during a study/experiment. This typically occurs to a sample or a data set/file, which yields another item (another sample or data file). Events are explicitly caused (eg, a lab protocol is applied, irrigation, patient treatment), or it might happen due to the environment (eg, rain, patient infection). Subclasses are defined for the two types of event.

Events can also be used to represent data extraction from samples (what is considered an assaying procedure in ISA-Tab), or data transformations (eg, normalisation, computation of differentially expressed genes, gene enrichment). An event of this type can represent a plan or a particular occurrence, ie, similarly to other cases in schema.org, we don't distinguish between the two, as it is done in BFO/DOLCE ontologies."""@en
.


agri:StudyObservedValue a rdfs:Class ;
                        rdfs:subClassOf agri:BioSchemasNewClassProposal ,
                                        ppeo:observed_variable ,
                                        schema:PropertyValue .


agri:StudyObservedVariable a rdfs:Class ;
                           rdfs:subClassOf agri:BioSchemasNewClassProposal .


bioschema:LabProtocol a rdfs:Class ;
                      rdfs:subClassOf agri:StudyEvent .



schema:ScholarlyArticle a rdfs:Class ;
                        rdfs:subClassOf agri:ScholarlyPublication .




agri:SchemaNewClassProposal a rdfs:Class;
  rdfs:comment "Top-level containers named *New*Proposal are markers to track actions needed for new terms (eg, propose to schema/bioschemas)." .


agri:SchemaNewPropertyProposal a rdf:Property.

agri:Soil a rdfs:Class.

agri:StudyEvent a rdfs:Class.

agri:StudyObservedValue a rdfs:Class.


agri:authorsList a rdf:Property .


agri:baseCondition a rdf:Property .


agri:doiId a rdf:Property .


agri:evidence a rdf:Property .

agri:foldChange a rdf:Property .

agri:hasExperimentalFactorType a rdf:Property .


agri:hasExperimentalFactorValue a rdf:Property .

agri:hasGeneExpressionIn a rdf:Property .

agri:interactionHost a rdf:Property .


agri:interactionPathogen a rdf:Property .

agri:isBiologicallyRelatedTo a rdf:Property .



agri:log2FoldChange a rdf:Property .


agri:ordinalTpm a rdf:Property .

agri:pmedId a rdf:Property .


agri:pvalue a rdf:Property .


agri:score a rdf:Property .

agri:timePoint a rdf:Property .


agri:tpmCount a rdf:Property .


bioschema:BioChemEntity a rdf:Class .


bioschema:LabProtocol a rdf:Class .



agri:BioSchemasNewClassProposal rdfs:seeAlso agri:BioSchemasNewClassProposal .


agri:BioSchemasNewPropertyProposal rdfs:seeAlso agri:SchemaNewClassProposal .


agri:ExperimentalDesign rdfs:comment """A description of the study's experimental design. For instance, \"control/treatment design\", \"factorial design with 2 factors\".

This is a a schema:PropertyValue and conventionally, schema:value should be used by instances to at least give a short description (or label) for a experimental design. schema:description could be optionally be used to additionally offer a longer description.

Until this becomes part of some official schema/bioschema specification, you might want to adopt some conventional redundancy, see https://github.com/Rothamsted/agri-schemas/tree/master/doc/miappe-use-case/dataset-arabidopsis for details."""@en .


agri:ExperimentalFactorType rdfs:seeAlso agri:ExperimentalFactorValue ;
                            rdfs:comment """A variable that is considered to perform a study, such as a life science study. An experimental factor is the independent variable of the study, which might be varied as part of the experimental design for the purpose of investigating how potentially dependent variables vary with different factor values.

Examples are: treatmemt, administered diet, fertilisation."""@en .


agri:ExperimentalFactorValue rdfs:seeAlso agri:ExperimentalFactorType ;
                             rdfs:comment "A value for an independent variable investigated by an experiment/study."@en .


agri:SchemaNewPropertyProposal rdfs:seeAlso agri:SchemaNewClassProposal .



agri:baseCondition rdfs:seeAlso obo:OBI_0000143 ;
                   schema:rangeIncludes agri:ExperimentalFactorValue .


agri:foldChange a obo:STATO_0000169 ,
                        sio:SIO_001078 ;
                schema:rangeIncludes schema:Number .


agri:hasExperimentalFactorType schema:inverseOf agri:hasExperimentalFactorValue ;
                               schema:rangeIncludes agri:ExperimentalFactorType ;
                               schema:domainIncludes agri:ExperimentalFactorValue .


agri:hasExperimentalFactorValue rdfs:comment "Links a factor value to its agri:ExperimentalFactorType. These properties are more specific subproperties of dc:type. You might have datasets where dc:type only is used to link factor values to their types. Ideally, use both maximise interoperability (see AgriSchemas documentation)."@en ;
                                schema:inverseOf agri:hasExperimentalFactorType ;
                                schema:domainIncludes agri:ExperimentalFactorType ;
                                schema:rangeIncludes agri:ExperimentalFactorValue .


agri:hasGeneExpressionIn rdfs:seeAlso obo:GO_0010467 ;
                         rdfs:comment "Associates an entity like a DNA sequence or protein to another entity like a sample or disease term, to tell that the former shows some (differential) gene expression upon the condition represented by the latter." .


agri:interactionHost schema:domainIncludes agri:HostPathogenInteraction ;
                     schema:rangeIncludes schema:Phenotype .


agri:interactionPathogen schema:domainIncludes agri:HostPathogenInteraction ;
                         schema:rangeIncludes schema:Phenotype .


agri:isBiologicallyRelatedTo rdfs:seeAlso sio:SIO_000897 .


agri:log2FoldChange dc:type sio:SIO_001078 ,
                            obo:STATO_0000169 .


agri:ordinalTpm rdfs:comment "The ordinal ('low', 'medium', 'high') level of TPM. This is established from the TPM count, using the EBI thresholds: [0.5-10]/low, [11-1000] med, >1000. See: See: https://rna-seqblog.com/rpkm-fpkm-and-tpm-clearly-explained/" ;
                schema:rangeIncludes schema:Text ;
                rdfs:seeAlso agri:tpmCount ;
                rdfs:label "TPM level" .


agri:pvalue schema:rangeIncludes schema:Number ;
            dc:type obo:OBI_0000175 ,
                    sio:SIO_000765 .


agri:score schema:rangeIncludes schema:Text ,
                                schema:Number ;
           dc:type obo:OBI_0000071 ;
           schema:rangeIncludes schema:Enumeration .


agri:timePoint rdfs:seeAlso obo:OBI_0001508 ;
               schema:rangeIncludes agri:ExperimentalFactorValue ;
               rdfs:label "Time Point" .


agri:tpmCount dc:type obo:STATO_0000047 ,
                      sio:SIO_000794 ;
              schema:alternateName "Transcripts Per Million" ;
              schema:rangeIncludes schema:Number ;
              rdfs:comment "The transcripts per million count, as measured in RNA-Seq data. See: https://rna-seqblog.com/rpkm-fpkm-and-tpm-clearly-explained/" .


schema:alternateName rdfs:seeAlso schema:name .


schema:name rdfs:comment "schema:name is described and used as preferred name, so here we map it to skos:prefLabel." .

